{% extends "appLayout.html" %}
{% block title %}Playlists{% endblock %}
{% block page %}Playlists{% endblock %}

{{ super() }}

{% block content %}
<!-- {% if current_user.is_authenticated %} -->
<!-- <h3 style="color:black"> Hi {{ current_user.username }}! </h3> -->
<!-- <a href="/logout" class="btn waves-effect waves-light white-text amber darken-3">Logout</a> -->
<div class="user-login-username" style="display:none">{{ current_user.username }}</div>
<div class="carousel">
    <a class="carousel-item item-1" href="#one!"><img
            src="https://upload.wikimedia.org/wikipedia/en/thumb/d/d6/Lose_Yourself.jpg/220px-Lose_Yourself.jpg"></a>
    <a class="carousel-item item-2" href="#two!"><img src="https://via.placeholder.com/288x216"></a>
    <a class="carousel-item item-3" href="#three!"><img src="https://via.placeholder.com/288x216"></a>
    <a class="carousel-item item-4" href="#four!"><img src="https://via.placeholder.com/288x216"></a>
    <a class="carousel-item item-5" href="#five!"><img src="https://via.placeholder.com/288x216"></a>
</div>

<div class='play-list'>

</div>

<!-- {% endif %} -->


<script>
    //let navMenu = document.getElementsByClassName("right")[1];


    //let registerBtn = navMenu.querySelectorAll("li")[0];

    //let loginBtn = navMenu.querySelectorAll("li")[1];

    //let playlistPlaceholder = document.querySelector(".play-list");

    // let userLoggedInBtn = document.querySelector(".user-logged-in");

    //userLoggedInBtn.innerHTML = "Ramith";

    //let userLoggedInUsername = document.querySelector(".user-login-username");

    //let topNavigationMenu = document.querySelector("ul.right");

    //let userProfile = document.querySelector(".user-profile");

    //let logoutButton = document.createElement("li");

    //let logoutLink = document.createElement("a");

    //logoutLink.href = "/logout";

    //logoutLink.classList.add("waves-effect");

    //logoutLink.classList.add("waves-light");

    //logoutLink.style.height = "0px";

    // logoutLink.innerText = "logout";

    /* userLoggedInBtn.addEventListener("mouseover", e => {
        logoutLink.style.height = "64px";
        logoutButton.style.height = "64px";

    })

    userProfile.addEventListener("mouseleave", e => {
        logoutLink.style.height = "0px";
        logoutButton.style.height = "0px";
    })*/

    //logoutButton.appendChild(logoutLink);

    //userProfile.appendChild(logoutButton);
    //console.log(userProfile);


    //display default playlist
    addPlayList(1);

    //registerBtn.style.visibility = "hidden";

    //loginBtn.style.visibility = "hidden";

    //initialize carousel
    $(document).ready(function () {
        $('.carousel').carousel();
    });


    let carouselSliderItems = document.querySelectorAll(".carousel-item");

    carouselSliderItems.forEach((item) => {

        item.onclick = () => {

            emptyPlayList();

            if (item.classList[1] == "item-1") {

                addPlayList(1);
            }

            else {

                addPlayList(2);
            }

        };

    })

    function emptyPlayList() {

        let playListContainer = document.querySelector(".play-list");

        let playListItems = document.getElementsByClassName("play-list-item");

        let playListLength = playListItems.length;

        for (i = 0; i < playListLength; i++) {

            playListContainer.removeChild(playListContainer.childNodes[0]);
        }
    }

    function addPlayList(selection) {

        let playListContainer = document.querySelector(".play-list");

        let playList = [];

        switch (selection) {
            case 1:
                playList.push("The way i am");
                playList.push("some random song name");
                playList.push("kompany you");
                playList.push(" chris brown go crazy");
                playList.push(" gunna go mad ");
                playList.push(" Rotimi love song");
                break;
            case 2:
                playList.push(" Jevon ft kompany love you");
                playList.push("Kompany get away");
                playList.push(" young thug big slim ");
                playList.push(" young thug pop bottles");
                playList.push(" pop smoke dior");
                playList.push(" machel go up");
                playList.push(" pie man mad song");
                playList.push(" drake no guidance");
                break;
        }

        playList.forEach((songTitle) => {

            let songContainer = document.createElement("div");

            let songPlaceholderImage = document.createElement("img");

            let songTitleContainer = document.createElement("span");

            let firstButton = document.createElement("button");

            let secondButton = document.createElement("button");

            songContainer.classList.add("play-list-item");

            songPlaceholderImage.src = "https://cdn.pixabay.com/photo/2019/03/31/18/38/cd-rom-4093712_960_720.png";

            songTitleContainer.innerHTML = songTitle;

            firstButton.classList.add("btn");

            firstButton.innerText = "Play";

            secondButton.classList.add("btn")

            secondButton.innerText = "Download";

            songContainer.appendChild(songPlaceholderImage);

            songContainer.appendChild(songTitleContainer);

            songContainer.appendChild(firstButton);

            songContainer.appendChild(secondButton);

            playListContainer.appendChild(songContainer);

        })

    }



</script>

{% endblock %}